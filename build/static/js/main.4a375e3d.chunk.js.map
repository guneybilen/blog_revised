{"version":3,"sources":["redux/auth/authTypes.js","redux/auth/authReducer.js","redux/rootReducer.js","redux/store.js","redux/auth/authActions.js","Navigation.js","BlogList.js","Home.js","Create.js","SocketIOContext.js","BlogDetails.js","NotFound.js","Signin.js","PrivateRoute.js","EditBlog.js","PublicRoute.js","Signup.js","ForgotPassword.js","ResetPassword.js","ChangeUsername.js","ChangePassword.js","ConfirmAccount.js","App.js","index.js"],"names":["POST_USER_REQUEST","POST_USER_SUCCESS","POST_USER_FAILURE","POST_AUTH_SUCCESS","POST_AUTH_REQUEST","POST_AUTH_FAILURE","POST_SIGNOUT_SUCCESS","POST_SIGNOUT_REQUEST","POST_SIGNOUT_FAILURE","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAILURE","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE","CHANGE_USERNAME_REQUEST","CHANGE_USERNAME_SUCCESS","CHANGE_USERNAME_FAILURE","CHANGE_PASSWORD_REQUEST","CHANGE_PASSWORD_SUCCESS","CHANGE_PASSWORD_FAILURE","CONFIRM_ACCOUNT_REQUEST","CONFIRM_ACCOUNT_SUCCESS","CONFIRM_ACCOUNT_FAILURE","SUBMIT_COMMENT_REQUEST","SUBMIT_COMMENT_SUCCESS","SUBMIT_COMMENT_FAILURE","GET_COMMENTS_REQUEST","GET_COMMENTS_SUCCESS","GET_COMMENTS_FAILURE","DELETE_COMMENT_REQUEST","DELETE_COMMENT_SUCCESS","DELETE_COMMENT_FAILURE","RESET_STATE","require","initialState","loading","error","logged","userName","statusCode","message","changedName","authorNames","comments","rootReducer","combineReducers","auth","state","action","type","payload","loggedOut","to","success","store","thunk","createStore","composeWithDevTools","applyMiddleware","postUserFailure","signupFailure","forgotPasswordFailure","resetPasswordFailure","changeUsernameFailure","changePasswordFailure","confirmAccountFailure","submitCommentFailure","getCommentsFailure","deleteCommentFailure","resetState","dispatch","deleteComment","commentId","config","headers","Accept","withCredentials","crossDomain","axios","delete","then","response","result","back","data","catch","status","errorMsg","getComments","blogId","get","submitComment","comment","level","post","confirmAccount","token","console","log","changePassword","password","passwordConfirm","changeUsername","changedNameConfirm","postForgotPassword","email","postUser","postUserSuccess","resetPassword","signup","user","checkAuth","options","method","url","postAuthSuccess","postAuthFailure","signout","received","postSignoutSuccess","postSignoutFailure","deleteBlog","id","deleteFailure","Navigation","isAuthenticated","nick","isloading","users","history","useHistory","useDispatch","Navbar","data-testid","href","className","onClick","e","preventDefault","push","NavbarToggle","NavbarCollapse","DropdownButton","title","Dropdown","Item","Button","variant","alert","BlogList","blogs","errorFromServer","useSelector","toolbar","items","viewportTopOffset","Alert","docs","length","map","blog","_id","substring","editor","ClassicEditor","body","onReady","isReadOnly","onBlur","event","onFocus","authors","blogAuthorId","Object","values","author","join","imageId","image","alt","src","height","width","Home","useState","setData","setError","pending","setPending","unmounted","useRef","show","setShow","useEffect","current","res","err","Create","setTitle","setBody","isPending","setIsPending","selectedFile","setSelectedFile","imaj","setImaj","isFilePicked","setIsFilePicked","wordCount","setWordCount","htmlFor","required","value","onChange","target","link","addTargetToExternalLinks","getData","name","multiple","accept","maxSizeMB","useWebWorker","Array","from","files","file","Compress","compressedBlob","lastModifiedDate","Date","convertedBlobFile","File","lastModified","now","r","URL","createObjectURL","concat","im","index","color","timeout","formData","FormData","append","too_many_pictures_at_once","title_too_short_or_long","body_too_short_or_long","window","location","HOST","origin","socket","io","transports","socketContext","React","createContext","moment","updateLocale","trLocale","BlogDetails","useParams","blogAuthorIds","setBlogAuthorIds","setBlog","setComment","images","setImages","ind","setInd","needToCheckRef","sameuser","setSameuser","confirmDelete","setConfirmDelete","reload","setReload","needForCommentsToLoad","setNeedForCommentsToLoad","textAreaRef","singleCommentBySocketIO","setSingleCommentBySocketIO","commentRemoved","setCommentRemoved","useContext","setUsers","on","emit","filter","commentsArrived","commentRemovedBySocketIO","sameUser","handleClickForDeleteForComment","checkIfSuperUser","obj","includes","checkIfOwner","commentAuthorName","setShowOnlyOnce","data-bs-dismiss","handleClickForDelete","data-dismiss","img","toString","commentAuthorId","createdAt","format","Form","Control","as","rows","ref","levelZero","handleCommentSubmit","style","listStyleType","self","indexOf","showUsers","NotFound","Signin","useLocation","setEmail","setPassword","handleSubmit","a","onSubmit","Group","controlId","Label","placeholder","Text","autocomplete","PrivateRoute","Component","component","rest","props","pathname","EditBlog","imageModified","setImageModified","errorUI","setErrorUI","patch","handleImageDelete","put","PublicRoute","Signup","setUserName","emailCheck","setEmailCheck","setPasswordConfirm","isEmail","ForgotPassword","postError","setPostError","btnRef","setAttribute","ResetPassword","ChangeUsername","userNameConfirm","setUserNameConfirm","ChangePassword","ConfirmAccount","loadBookFromServer","useCallback","connect","data-test","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4a375e3d.chunk.js","sourcesContent":["export const POST_USER_REQUEST = \"POST_USER_REQUEST\";\r\nexport const POST_USER_SUCCESS = \"POST_USER_SUCCESS\";\r\nexport const POST_USER_FAILURE = \"POST_USER_FAILURE\";\r\nexport const POST_AUTH_SUCCESS = \"POST_AUTH_SUCCESS\";\r\nexport const POST_AUTH_REQUEST = \"POST_AUTH_REQUEST\";\r\nexport const POST_AUTH_FAILURE = \"POST_AUTH_FAILURE\";\r\nexport const POST_SIGNOUT_SUCCESS = \"POST_SIGNOUT_SUCCESS\";\r\nexport const POST_SIGNOUT_REQUEST = \"POST_SIGNOUT_REQUEST\";\r\nexport const POST_SIGNOUT_FAILURE = \"POST_SIGNOUT_FAILURE\";\r\nexport const SIGN_UP_REQUEST = \"SIGN_UP_REQUEST\";\r\nexport const SIGN_UP_SUCCESS = \"SIGN_UP_SUCCESS\";\r\nexport const SIGN_UP_FAILURE = \"SIGN_UP_FAILURE\";\r\nexport const DELETE_REQUEST = \"DELETE_REQUEST\";\r\nexport const DELETE_SUCCESS = \"DELETE_SUCCESS\";\r\nexport const DELETE_FAILURE = \"DELETE_FAILURE\";\r\nexport const FORGOT_PASSWORD_REQUEST = \"FORGOT_PASSWORD_REQUEST\";\r\nexport const FORGOT_PASSWORD_SUCCESS = \"FORGOT_PASSWORD_SUCCESS\";\r\nexport const FORGOT_PASSWORD_FAILURE = \"FORGOT_PASSWORD_FAILURE\";\r\nexport const RESET_PASSWORD_REQUEST = \"RESET_PASSWORD_REQUEST\";\r\nexport const RESET_PASSWORD_SUCCESS = \"RESET_PASSWORD_SUCCESS\";\r\nexport const RESET_PASSWORD_FAILURE = \"RESET_PASSWORD_FAILURE\";\r\nexport const CHANGE_USERNAME_REQUEST = \"CHANGE_USERNAME_REQUEST\";\r\nexport const CHANGE_USERNAME_SUCCESS = \"CHANGE_USERNAME_SUCCESS\";\r\nexport const CHANGE_USERNAME_FAILURE = \"CHANGE_USERNAME_FAILURE\";\r\nexport const CHANGE_PASSWORD_REQUEST = \"CHANGE_PASSWORD_REQUEST\";\r\nexport const CHANGE_PASSWORD_SUCCESS = \"CHANGE_PASSWORD_SUCCESS\";\r\nexport const CHANGE_PASSWORD_FAILURE = \"CHANGE_PASSWORD_FAILURE\";\r\nexport const CONFIRM_ACCOUNT_REQUEST = \"CONFIRM_ACCOUNT_REQUEST\";\r\nexport const CONFIRM_ACCOUNT_SUCCESS = \"CONFIRM_ACCOUNT_SUCCESS\";\r\nexport const CONFIRM_ACCOUNT_FAILURE = \"CONFIRM_ACCOUNT_FAILURE\";\r\nexport const SUBMIT_COMMENT_REQUEST = \"SUBMIT_COMMENT_REQUEST\";\r\nexport const SUBMIT_COMMENT_SUCCESS = \"SUBMIT_COMMENT_SUCCESS\";\r\nexport const SUBMIT_COMMENT_FAILURE = \"SUBMIT_COMMENT_FAILURE\";\r\nexport const GET_COMMENTS_REQUEST = \"GET_COMMENTS_REQUEST\";\r\nexport const GET_COMMENTS_SUCCESS = \"GET_COMMENTS_SUCCESS\";\r\nexport const GET_COMMENTS_FAILURE = \"GET_COMMENTS_FAILURE\";\r\nexport const DELETE_COMMENT_REQUEST = \"DELETE_COMMENT_REQUEST\";\r\nexport const DELETE_COMMENT_SUCCESS = \"DELETE_COMMENT_SUCCESS\";\r\nexport const DELETE_COMMENT_FAILURE = \"DELETE_COMMENT_FAILURE\";\r\nexport const RESET_STATE = \"RESET_STATE\";\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst {\r\n  POST_USER_REQUEST,\r\n  POST_USER_SUCCESS,\r\n  POST_USER_FAILURE,\r\n  POST_AUTH_SUCCESS,\r\n  POST_AUTH_FAILURE,\r\n  POST_AUTH_REQUEST,\r\n  POST_SIGNOUT_REQUEST,\r\n  POST_SIGNOUT_FAILURE,\r\n  POST_SIGNOUT_SUCCESS,\r\n  SIGN_UP_FAILURE,\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  DELETE_FAILURE,\r\n  DELETE_REQUEST,\r\n  DELETE_SUCCESS,\r\n  FORGOT_PASSWORD_REQUEST,\r\n  FORGOT_PASSWORD_SUCCESS,\r\n  FORGOT_PASSWORD_FAILURE,\r\n  RESET_PASSWORD_REQUEST,\r\n  RESET_PASSWORD_SUCCESS,\r\n  RESET_PASSWORD_FAILURE,\r\n  CHANGE_USERNAME_REQUEST,\r\n  CHANGE_USERNAME_SUCCESS,\r\n  CHANGE_USERNAME_FAILURE,\r\n  CHANGE_PASSWORD_REQUEST,\r\n  CHANGE_PASSWORD_SUCCESS,\r\n  CHANGE_PASSWORD_FAILURE,\r\n  CONFIRM_ACCOUNT_REQUEST,\r\n  CONFIRM_ACCOUNT_SUCCESS,\r\n  CONFIRM_ACCOUNT_FAILURE,\r\n  SUBMIT_COMMENT_REQUEST,\r\n  SUBMIT_COMMENT_SUCCESS,\r\n  SUBMIT_COMMENT_FAILURE,\r\n  GET_COMMENTS_REQUEST,\r\n  GET_COMMENTS_SUCCESS,\r\n  GET_COMMENTS_FAILURE,\r\n  DELETE_COMMENT_REQUEST,\r\n  DELETE_COMMENT_SUCCESS,\r\n  DELETE_COMMENT_FAILURE,\r\n  RESET_STATE,\r\n} = require(\"./authTypes\");\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: \"\",\r\n  logged: false,\r\n  userName: \"\",\r\n  statusCode: \"\",\r\n  message: \"\",\r\n  changedName: \"\",\r\n  authorNames: [],\r\n  comments: [],\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_USER_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        logged: false,\r\n        error: \"\",\r\n      };\r\n    case POST_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: action.payload.logged,\r\n        userName: action.payload.userName,\r\n        error: \"\",\r\n      };\r\n\r\n    case POST_USER_FAILURE:\r\n      // console.log(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: false,\r\n        error: action.payload,\r\n      };\r\n    case POST_AUTH_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        logged: false,\r\n      };\r\n\r\n    case POST_AUTH_SUCCESS:\r\n      // console.log(\"action.payload \", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: action.payload.logged,\r\n        userName: action.payload.userName,\r\n      };\r\n\r\n    case POST_AUTH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n        logged: false,\r\n      };\r\n    case SIGN_UP_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case SIGN_UP_SUCCESS:\r\n      // console.log(\"action.payload \", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: action.payload.logged,\r\n        error: \"\",\r\n        message:\r\n          action.payload.message === \"pending\"\r\n            ? \"kayt ileminzi tamamlamak iin ltfen email kutunuzu kontrol edin\"\r\n            : \"\",\r\n      };\r\n\r\n    case SIGN_UP_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n        logged: false,\r\n      };\r\n    case POST_SIGNOUT_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case POST_SIGNOUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        message: \"\",\r\n        logged: !action.payload.loggedOut,\r\n      };\r\n\r\n    case POST_SIGNOUT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n    case DELETE_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case DELETE_SUCCESS:\r\n      // console.log(\"action \", action);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case DELETE_FAILURE:\r\n      // console.log(\"action \", action);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case FORGOT_PASSWORD_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case FORGOT_PASSWORD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        message:\r\n          action.payload.message !== \"\"\r\n            ? \"ifre sfrlama emaili gnderildi. bu sayfay kapatabilirsiniz\"\r\n            : \"\",\r\n      };\r\n\r\n    case FORGOT_PASSWORD_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n    case RESET_PASSWORD_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case RESET_PASSWORD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        logged: action.payload.logged,\r\n        error: \"\",\r\n        message:\r\n          action.payload.logged === true\r\n            ? \"ifre yenileme ilemi baarl\"\r\n            : \"\",\r\n      };\r\n\r\n    case RESET_PASSWORD_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n        statusCode:\r\n          action.statusCode === 401 ? (\r\n            <Link to=\"/forgotPassword\">\r\n              ifremi unuttum sayfasn iin geri dn\r\n            </Link>\r\n          ) : (\r\n            \"\"\r\n          ),\r\n      };\r\n    case CHANGE_USERNAME_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case CHANGE_USERNAME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: \"\",\r\n        userName: action.payload.userName,\r\n        message:\r\n          action.payload.message === \"username succseesfully changed\"\r\n            ? \"kullanc ad baaryla deiltirlidi\"\r\n            : \"\",\r\n      };\r\n\r\n    case CHANGE_USERNAME_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case CHANGE_PASSWORD_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case CHANGE_PASSWORD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: \"\",\r\n        message:\r\n          action.payload.message === \"password succseesfully changed\"\r\n            ? \"ifre baaryla deiltirlidi\"\r\n            : \"\",\r\n      };\r\n\r\n    case CHANGE_PASSWORD_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case CONFIRM_ACCOUNT_REQUEST:\r\n      return {\r\n        ...state,\r\n        logged: false,\r\n      };\r\n    case CONFIRM_ACCOUNT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        logged: action.payload.logged,\r\n        userName: action.payload.userName,\r\n        error: \"\",\r\n        message:\r\n          action.payload.message === \"success\"\r\n            ? \"kayt ileminiz tamamland. hogeldiniz!\"\r\n            : \"\",\r\n      };\r\n    case CONFIRM_ACCOUNT_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        logged: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case SUBMIT_COMMENT_REQUEST:\r\n      return {\r\n        ...state,\r\n        // loading: true,\r\n      };\r\n    case SUBMIT_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        // logged: action.payload.logged,\r\n        // userName: action.payload.userName,\r\n        // error: \"\",\r\n        // loading: false,\r\n        message: action.payload === \"\" ? \"yorumunuz kaydedildi\" : \"\",\r\n        // comments: action.payload.comments,\r\n      };\r\n    case SUBMIT_COMMENT_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        // loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case GET_COMMENTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        // loading: true,\r\n      };\r\n    case GET_COMMENTS_SUCCESS:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        // logged: action.payload.logged,\r\n        // userName: action.payload.userName,\r\n        // error: \"\",\r\n        // loading: false,\r\n        comments: action.payload,\r\n      };\r\n    case GET_COMMENTS_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        // loading: false,\r\n        comments: [],\r\n        error: action.payload,\r\n      };\r\n\r\n    case DELETE_COMMENT_REQUEST:\r\n      return {\r\n        ...state,\r\n        // loading: true,\r\n      };\r\n    case DELETE_COMMENT_SUCCESS:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        // logged: action.payload.logged,\r\n        // userName: action.payload.userName,\r\n        // error: \"\",\r\n        // loading: false,\r\n        message: action.payload.success === true ? \"yorum silindi\" : \"\",\r\n      };\r\n    case DELETE_COMMENT_FAILURE:\r\n      // console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\", action.payload);\r\n      return {\r\n        ...state,\r\n        // loading: false,\r\n        error: action.payload,\r\n      };\r\n    case RESET_STATE:\r\n      return {\r\n        ...state,\r\n        error: \"\",\r\n        message: \"\",\r\n        // action.payload?.message === \"username succseesfully changed\"\r\n        //   ? \"kullanc ad baaryla deiltirlidi\"\r\n        //   : \"\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"./auth/authReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n// import logger from \"redux-logger\"; // used in applyMiddleware(thunk, logger)\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nexport const middlewares = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import axios from \"axios\";\r\n// import * as moment from \"moment\";\r\n\r\nimport {\r\n  POST_USER_FAILURE,\r\n  POST_USER_REQUEST,\r\n  POST_USER_SUCCESS,\r\n  POST_AUTH_SUCCESS,\r\n  POST_AUTH_FAILURE,\r\n  POST_AUTH_REQUEST,\r\n  POST_SIGNOUT_REQUEST,\r\n  POST_SIGNOUT_FAILURE,\r\n  POST_SIGNOUT_SUCCESS,\r\n  SIGN_UP_FAILURE,\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  DELETE_FAILURE,\r\n  DELETE_REQUEST,\r\n  DELETE_SUCCESS,\r\n  FORGOT_PASSWORD_REQUEST,\r\n  FORGOT_PASSWORD_SUCCESS,\r\n  FORGOT_PASSWORD_FAILURE,\r\n  RESET_PASSWORD_REQUEST,\r\n  RESET_PASSWORD_SUCCESS,\r\n  RESET_PASSWORD_FAILURE,\r\n  CHANGE_USERNAME_REQUEST,\r\n  CHANGE_USERNAME_SUCCESS,\r\n  CHANGE_USERNAME_FAILURE,\r\n  CHANGE_PASSWORD_REQUEST,\r\n  CHANGE_PASSWORD_SUCCESS,\r\n  CHANGE_PASSWORD_FAILURE,\r\n  CONFIRM_ACCOUNT_REQUEST,\r\n  CONFIRM_ACCOUNT_SUCCESS,\r\n  CONFIRM_ACCOUNT_FAILURE,\r\n  SUBMIT_COMMENT_REQUEST,\r\n  SUBMIT_COMMENT_SUCCESS,\r\n  SUBMIT_COMMENT_FAILURE,\r\n  GET_COMMENTS_REQUEST,\r\n  GET_COMMENTS_SUCCESS,\r\n  GET_COMMENTS_FAILURE,\r\n  DELETE_COMMENT_REQUEST,\r\n  DELETE_COMMENT_SUCCESS,\r\n  DELETE_COMMENT_FAILURE,\r\n  RESET_STATE,\r\n} from \"./authTypes\";\r\n\r\nconst USERNAME_LENGTH_MIN = 3;\r\nconst USERNAME_LENGTH_MAX = 30;\r\nconst PASSWORD_LENGTH_MIN = 8;\r\nconst PASSWORD_LENGTH_MAX = 70;\r\nconst COMMENT_LENGTH_MIN = 1;\r\nconst COMMENT_LENGTH_MAX = 1000;\r\n\r\nexport const postUserRequest = () => {\r\n  return {\r\n    type: POST_USER_REQUEST,\r\n  };\r\n};\r\n\r\nexport const postUserSuccess = (back) => {\r\n  return {\r\n    type: POST_USER_SUCCESS,\r\n    payload: back,\r\n  };\r\n};\r\n\r\nexport const postUserFailure = (error) => {\r\n  return {\r\n    type: POST_USER_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const postAuthRequest = () => {\r\n  return {\r\n    type: POST_AUTH_REQUEST,\r\n  };\r\n};\r\n\r\nexport const postAuthSuccess = (user) => {\r\n  return {\r\n    type: POST_AUTH_SUCCESS,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nexport const postAuthFailure = (error) => {\r\n  return {\r\n    type: POST_AUTH_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const signupRequest = () => {\r\n  return {\r\n    type: SIGN_UP_REQUEST,\r\n  };\r\n};\r\n\r\nexport const signupSuccess = (user) => {\r\n  return {\r\n    type: SIGN_UP_SUCCESS,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nexport const signupFailure = (error) => {\r\n  return {\r\n    type: SIGN_UP_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const postSignoutRequest = (user) => {\r\n  return {\r\n    type: POST_SIGNOUT_REQUEST,\r\n  };\r\n};\r\n\r\nexport const postSignoutSuccess = (received) => {\r\n  return {\r\n    type: POST_SIGNOUT_SUCCESS,\r\n    payload: received,\r\n  };\r\n};\r\n\r\nexport const postSignoutFailure = (error) => {\r\n  return {\r\n    type: POST_SIGNOUT_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const deleteRequest = () => {\r\n  return {\r\n    type: DELETE_REQUEST,\r\n  };\r\n};\r\n\r\nexport const deleteSuccess = (result) => {\r\n  return {\r\n    type: DELETE_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const deleteFailure = (error) => {\r\n  return {\r\n    type: DELETE_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const forgotPasswordRequest = () => {\r\n  return {\r\n    type: FORGOT_PASSWORD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const forgotPasswordSuccess = (result) => {\r\n  return {\r\n    type: FORGOT_PASSWORD_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const forgotPasswordFailure = (error) => {\r\n  return {\r\n    type: FORGOT_PASSWORD_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const resetPasswordRequest = () => {\r\n  return {\r\n    type: RESET_PASSWORD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const resetPasswordSuccess = (result) => {\r\n  return {\r\n    type: RESET_PASSWORD_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const resetPasswordFailure = (error, statusCode) => {\r\n  return {\r\n    type: RESET_PASSWORD_FAILURE,\r\n    payload: error,\r\n    statusCode,\r\n  };\r\n};\r\n\r\nexport const changeUsernameRequest = () => {\r\n  return {\r\n    type: CHANGE_USERNAME_REQUEST,\r\n  };\r\n};\r\n\r\nexport const changeUsernameSuccess = (result) => {\r\n  return {\r\n    type: CHANGE_USERNAME_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const changeUsernameFailure = (error) => {\r\n  return {\r\n    type: CHANGE_USERNAME_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const changePasswordRequest = () => {\r\n  return {\r\n    type: CHANGE_PASSWORD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const changePasswordSuccess = (result) => {\r\n  return {\r\n    type: CHANGE_PASSWORD_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const changePasswordFailure = (error) => {\r\n  return {\r\n    type: CHANGE_PASSWORD_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const confirmAccountRequest = () => {\r\n  return {\r\n    type: CONFIRM_ACCOUNT_REQUEST,\r\n  };\r\n};\r\n\r\nexport const confirmAccountSuccess = (result) => {\r\n  return {\r\n    type: CONFIRM_ACCOUNT_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const confirmAccountFailure = (error) => {\r\n  return {\r\n    type: CONFIRM_ACCOUNT_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const submitCommentRequest = () => {\r\n  return {\r\n    type: SUBMIT_COMMENT_REQUEST,\r\n  };\r\n};\r\n\r\nexport const submitCommentSuccess = (result) => {\r\n  return {\r\n    type: SUBMIT_COMMENT_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const submitCommentFailure = (error) => {\r\n  return {\r\n    type: SUBMIT_COMMENT_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const getCommentsRequest = () => {\r\n  return {\r\n    type: GET_COMMENTS_REQUEST,\r\n  };\r\n};\r\n\r\nexport const getCommentsSuccess = (result) => {\r\n  return {\r\n    type: GET_COMMENTS_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const getCommentsFailure = (error) => {\r\n  return {\r\n    type: GET_COMMENTS_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const deleteCommentRequest = () => {\r\n  return {\r\n    type: DELETE_COMMENT_REQUEST,\r\n  };\r\n};\r\n\r\nexport const deleteCommentSuccess = (result) => {\r\n  return {\r\n    type: DELETE_COMMENT_SUCCESS,\r\n    payload: result,\r\n  };\r\n};\r\n\r\nexport const deleteCommentFailure = (error) => {\r\n  return {\r\n    type: DELETE_COMMENT_FAILURE,\r\n    payload: error,\r\n  };\r\n};\r\n\r\nexport const resetStateRequest = () => {\r\n  return {\r\n    type: RESET_STATE,\r\n  };\r\n};\r\n\r\nexport const resetState = () => {\r\n  return (dispatch) => {\r\n    dispatch(resetStateRequest());\r\n  };\r\n};\r\n\r\nexport const deleteComment = (commentId) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(deleteCommentRequest());\r\n    axios\r\n      .delete(\"/api/comment/\" + commentId, config)\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(deleteCommentSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response?.status === 409) {\r\n          dispatch(deleteCommentFailure(\"baskasna ait yorumu silimezsiniz\"));\r\n        } else if (error.response?.status === 500) {\r\n          dispatch(deleteCommentFailure(\"teknik bir problem oldu\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(deleteCommentFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const getComments = (blogId) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(getCommentsRequest());\r\n    axios\r\n      .get(\r\n        \"/api/comments/\" + blogId,\r\n\r\n        config\r\n      )\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(getCommentsSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response?.status === 500) {\r\n          dispatch(getCommentsFailure(\"teknik bir problem oldu\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(getCommentsFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const submitComment = (comment, blogId, level) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(submitCommentRequest());\r\n    axios\r\n      .post(\r\n        \"/api/comment\",\r\n        {\r\n          level: level,\r\n          comment: comment,\r\n          blogId: blogId,\r\n        },\r\n        config\r\n      )\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(submitCommentSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response?.status === 422) {\r\n          dispatch(\r\n            submitCommentFailure(\r\n              `ifre ${COMMENT_LENGTH_MIN} karakterden ksa veya ${COMMENT_LENGTH_MAX} karakterden uzun olamaz`\r\n            )\r\n          );\r\n        } else if (error.response?.status === 500) {\r\n          dispatch(submitCommentFailure(\"teknik bir problem oldu\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(submitCommentFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const confirmAccount = (token) => {\r\n  return (dispatch) => {\r\n    dispatch(confirmAccountRequest());\r\n    axios\r\n      .get(\"/api/confirmAccount/\" + token)\r\n      .then(function (response) {\r\n        // console.log(\"response \", response);\r\n        const back = response.data;\r\n        dispatch(confirmAccountSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"error \", error);\r\n        if (error.response?.status === 404) {\r\n          dispatch(confirmAccountFailure(\"kullanc bulunamad\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(confirmAccountFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const changePassword = (password, passwordConfirm) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(changePasswordRequest());\r\n    axios\r\n      .post(\r\n        \"/api/changePassword\",\r\n        { password: password, passwordConfirm: passwordConfirm },\r\n        config\r\n      )\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(changePasswordSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"error \", error);\r\n        if (error.response.status === 411) {\r\n          dispatch(\r\n            changePasswordFailure(\r\n              `ifre ${PASSWORD_LENGTH_MIN} harften az veya ${PASSWORD_LENGTH_MAX} harften fazla olamaz`\r\n            )\r\n          );\r\n        } else if (error.response.status === 403) {\r\n          dispatch(\r\n            changePasswordFailure(\r\n              \"ifre ve tekrar ifre kutular ayn deer olmal\"\r\n            )\r\n          );\r\n        } else if (error.response.status === 500) {\r\n          dispatch(\r\n            changePasswordFailure(\r\n              \"teknik bir problem oldu. ltfen sonra tekrar deneyin.\"\r\n            )\r\n          );\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(changePasswordFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const changeUsername = (changedName, changedNameConfirm) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(changeUsernameRequest());\r\n    axios\r\n      .post(\r\n        \"/api/changeUsername\",\r\n        {\r\n          changedName: changedName,\r\n          changedNameConfirm: changedNameConfirm,\r\n        },\r\n        config\r\n      )\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(changeUsernameSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"error \", error);\r\n        if (error.response.status === 411) {\r\n          dispatch(\r\n            changeUsernameFailure(\r\n              `kullanc ad ${USERNAME_LENGTH_MIN} harften az veya ${USERNAME_LENGTH_MAX} harften fazla olamaz`\r\n            )\r\n          );\r\n        } else if (error.response.status === 400) {\r\n          dispatch(changeUsernameFailure(\"kullanc ad alnm\"));\r\n        } else if (error.response.status === 422) {\r\n          dispatch(\r\n            changeUsernameFailure(\r\n              \"kaydnzda bulunan ayn kullanc adn girdiniz\"\r\n            )\r\n          );\r\n        } else if (error.response.status === 403) {\r\n          dispatch(\r\n            changeUsernameFailure(\r\n              \"kullanc ad ve kullanc tekrar kutular ayn deer olmal\"\r\n            )\r\n          );\r\n        } else if (error.response.status === 500) {\r\n          dispatch(\r\n            changeUsernameFailure(\r\n              \"teknik bir problem oldu. ltfen sonra tekrar deneyin.\"\r\n            )\r\n          );\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(changeUsernameFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const postForgotPassword = (email) => {\r\n  return (dispatch) => {\r\n    dispatch(forgotPasswordRequest());\r\n    axios\r\n      .post(\"/api/forgotPassword\", {\r\n        email: email,\r\n      })\r\n      .then(function (response) {\r\n        // console.log(\"response \", response);\r\n        const back = response.data;\r\n        dispatch(forgotPasswordSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response.status === 401) {\r\n          dispatch(forgotPasswordFailure(\"email sistemde kaytl deil\"));\r\n        } else {\r\n          if (error.response.status === 500) {\r\n            dispatch(\r\n              forgotPasswordFailure(\r\n                \"teknik bir problem oldu. ltfen sonra tekrar deneyin.\"\r\n              )\r\n            );\r\n          } else {\r\n            const errorMsg = error.message;\r\n            dispatch(forgotPasswordFailure(errorMsg));\r\n          }\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const postUser = (email, password) => {\r\n  return (dispatch) => {\r\n    dispatch(postUserRequest());\r\n    axios\r\n      .post(\r\n        \"/api/sign_in\",\r\n        {\r\n          email: email,\r\n          password: password,\r\n        },\r\n        { withCredentials: true, crossDomain: true }\r\n      )\r\n      .then(function (response) {\r\n        // console.log(\"response \", response);\r\n        const back = response.data;\r\n        dispatch(postUserSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        if (error.response?.status === 422) {\r\n          dispatch(postUserFailure(\"ltfen hesabnz teyit edin\"));\r\n        } else if (error.response?.status === 401) {\r\n          dispatch(postUserFailure(\"email sistemde kaytl deil\"));\r\n        } else if (error.response?.status === 403) {\r\n          dispatch(postUserFailure(\"email veya ifre hatal\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(postUserFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\nexport const resetPassword = ({ password, passwordConfirm, token }) => {\r\n  return (dispatch) => {\r\n    dispatch(resetPasswordRequest());\r\n    axios\r\n      .post(`/api/resetPassword/${token}`, {\r\n        password: password,\r\n        passwordConfirm: passwordConfirm,\r\n      })\r\n      .then(function (response) {\r\n        // console.log(\"response \", response);\r\n        const back = response.data;\r\n        dispatch(resetPasswordSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response.status === 401) {\r\n          dispatch(\r\n            resetPasswordFailure(\r\n              \"gnderdiimiz ifre sfrlama emailinin sresi dolmutur. ltfen tekrar isteyin\",\r\n              401\r\n            )\r\n          );\r\n        } else if (error.response.status === 403) {\r\n          dispatch(\r\n            resetPasswordFailure(\"ifre ve onay ifresi ayn deil\", 403)\r\n          );\r\n        } else if (error.response.status === 422) {\r\n          dispatch(\r\n            resetPasswordFailure(\r\n              `ifre ${USERNAME_LENGTH_MAX} karakterden ksa veya ${PASSWORD_LENGTH_MAX} karakterden uzun olamaz`,\r\n              422\r\n            )\r\n          );\r\n        } else if (error.response.status === 500) {\r\n          dispatch(resetPasswordFailure(\"teknik bir problem oldu\", 500));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(resetPasswordFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const signup = ({ email, password, passwordConfirm, userName }) => {\r\n  return (dispatch) => {\r\n    dispatch(signupRequest());\r\n    axios\r\n      .post(\"/api/sign_up\", {\r\n        email: email,\r\n        password: password,\r\n        passwordConfirm: passwordConfirm,\r\n        userName: userName,\r\n      })\r\n      .then(function (response) {\r\n        const back = response.data;\r\n        dispatch(signupSuccess(back));\r\n      })\r\n      .catch(function (error) {\r\n        if (error.response.status === 409) {\r\n          dispatch(signupFailure(\"email sistemde kaytl\"));\r\n        } else if (error.response.status === 400) {\r\n          dispatch(signupFailure(\"kullanc ad alnm\"));\r\n        } else if (error.response.status === 411) {\r\n          dispatch(\r\n            signupFailure(\r\n              `kullanc ad ${USERNAME_LENGTH_MIN} harften az veya ${USERNAME_LENGTH_MAX} harften fazla olamaz veya emailiniz geerli bir email deil`\r\n            )\r\n          );\r\n        } else if (error.response.status === 403) {\r\n          dispatch(signupFailure(\"ifre ve onay ifresi ayn deil\"));\r\n        } else if (error.response.status === 422) {\r\n          dispatch(\r\n            signupFailure(\r\n              `ifre ${PASSWORD_LENGTH_MIN} karakterden ksa veya ${PASSWORD_LENGTH_MAX} karakterden uzun olamaz`\r\n            )\r\n          );\r\n        } else if (error.response.status === 500) {\r\n          dispatch(signupFailure(\"teknik bir problem oldu\"));\r\n        } else {\r\n          const errorMsg = error.message;\r\n          dispatch(signupFailure(errorMsg));\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const checkAuth = () => {\r\n  return (dispatch) => {\r\n    dispatch(postAuthRequest());\r\n    let url = \"/api/protected\";\r\n    const options = {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Accept: \"application/json\",\r\n      },\r\n      data: \"\",\r\n      url,\r\n      withCredentials: true,\r\n      crossDomain: true,\r\n    };\r\n    axios(options)\r\n      .then((response) => {\r\n        const user = response.data;\r\n        // console.log(\"user \", user);\r\n        dispatch(postAuthSuccess(user));\r\n      })\r\n      .catch(function (error) {\r\n        const errorMsg = error.message;\r\n        console.log(\"error.message \", error.message);\r\n        dispatch(postAuthFailure(errorMsg));\r\n      });\r\n  };\r\n};\r\n\r\nexport const signout = () => {\r\n  let url = \"/api/sign_out\";\r\n  const options = {\r\n    method: \"GET\",\r\n    data: \"\",\r\n    url,\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(postSignoutRequest());\r\n    // console.log(\"signout\");\r\n    axios(options)\r\n      .then((response) => {\r\n        const received = response.data;\r\n        dispatch(postSignoutSuccess(received));\r\n      })\r\n      .catch(function (error) {\r\n        const errorMsg = error.message;\r\n        dispatch(postSignoutFailure(errorMsg));\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteBlog = (id) => {\r\n  let config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      Accept: \"application/json\",\r\n    },\r\n    withCredentials: true,\r\n    crossDomain: true,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(deleteRequest());\r\n    axios\r\n      .delete(`/api/blogs/${id}`, config)\r\n      .then((response) => {\r\n        if (response.status === 204) {\r\n          dispatch(deleteSuccess(\"blog silindi\"));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(\r\n          deleteFailure(\r\n            \"silme istei baariz oldu. ltfen site yneticisine email atn\"\r\n          )\r\n        );\r\n      });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport NavbarToggle from \"react-bootstrap/NavbarToggle\";\r\nimport NavbarCollapse from \"react-bootstrap/NavbarCollapse\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\r\nimport { resetState } from \"./redux\";\r\n\r\nconst Navigation = ({\r\n  isAuthenticated,\r\n  signout,\r\n  nick,\r\n  checkAuth,\r\n  users,\r\n  isloading,\r\n}) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const signoutHandler = (e) => {\r\n    e.preventDefault();\r\n    signout();\r\n\r\n    try {\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  const homeHandler = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const createHandler = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/createBlog\");\r\n  };\r\n\r\n  const entryHandler = (e) => {\r\n    e.preventDefault();\r\n    // window.location = \"/signin\";\r\n    history.push(\"/signin\");\r\n  };\r\n\r\n  const signUpHandler = (e) => {\r\n    e.preventDefault();\r\n    // window.location = \"/signup\";\r\n    history.push(\"/signup\");\r\n  };\r\n\r\n  const changeUsername = (e) => {\r\n    e.preventDefault();\r\n    dispatch(resetState());\r\n    history.push(\"/changeUsername\");\r\n    // window.location = \"/changeUsername\";\r\n  };\r\n\r\n  const changePassword = (e) => {\r\n    e.preventDefault();\r\n    dispatch(resetState());\r\n    history.push(\"/changePassword\");\r\n    // window.location = \"/changePassword\";\r\n  };\r\n\r\n  return (\r\n    <Navbar data-testid=\"navigation\">\r\n      <a href=\"/\" className=\"powderBlueLink\" onClick={homeHandler}>\r\n        baak's blog\r\n      </a>\r\n      <NavbarToggle />\r\n      <NavbarCollapse className=\"justify-content-end\">\r\n        {isAuthenticated && !isloading && (\r\n          <>\r\n            <DropdownButton id=\"dropdown-basic-button\" title={nick}>\r\n              <Dropdown.Item onClick={changeUsername}>\r\n                kullanc ad deitir\r\n              </Dropdown.Item>\r\n              <Dropdown.Item onClick={changePassword}>\r\n                ifre deitir\r\n              </Dropdown.Item>\r\n            </DropdownButton>\r\n            <Button\r\n              onClick={createHandler}\r\n              variant=\"primary\"\r\n              data-testid=\"newBlog\"\r\n            >\r\n              yeni blog\r\n            </Button>\r\n            <Button onClick={signoutHandler}>k</Button>\r\n          </>\r\n        )}\r\n        {!isAuthenticated && !isloading && (\r\n          <>\r\n            <Button variant=\"warning\" onClick={signUpHandler}>\r\n              kayt\r\n            </Button>\r\n            <Button onClick={entryHandler} data-testid=\"navigationEntryButton\">\r\n              giri\r\n            </Button>\r\n          </>\r\n        )}\r\n      </NavbarCollapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     isAuthenticated: state.isAuth.success,\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     signout: () => dispatch(signout()),\r\n//     checkAuth: () => dispatch(checkAuth()),\r\n//   };\r\n// };\r\n\r\nexport default Navigation;\r\n","import { Link } from \"react-router-dom\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { /*connect */ useSelector } from \"react-redux\";\r\n\r\nconst BlogList = ({ data: blogs, title }) => {\r\n  // console.log(\"blogs.blog.blogAuthorId \", blogs.docs[0].blogAuthorId);\r\n\r\n  const errorFromServer = useSelector((state) => state.auth?.error);\r\n\r\n  const config = {\r\n    toolbar: {\r\n      items: [],\r\n      viewportTopOffset: 0,\r\n    },\r\n  };\r\n\r\n  const authors = (authors) => {\r\n    return Object.values(authors.map((author) => author.userName).join(\", \"));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {errorFromServer && <Alert variant=\"danger\">{errorFromServer}</Alert>}\r\n      <h2> {title} </h2>\r\n      {blogs && blogs.docs && blogs.docs.length === 0 ? (\r\n        <p>Henz hi blog yaynlanmam</p>\r\n      ) : (\r\n        blogs.docs?.map((blog) => {\r\n          return (\r\n            <div className=\"blog-preview\" key={blog._id}>\r\n              <Link data-testid=\"linkToBlog\" to={`/blogs/${blog._id}`}>\r\n                <h2>{blog.title.substring(0, 50)}</h2>\r\n                <div className=\"App\">\r\n                  <CKEditor\r\n                    config={config}\r\n                    editor={ClassicEditor}\r\n                    data={blog.body.substring(0, 50)}\r\n                    onReady={(editor) => {\r\n                      // You can store the \"editor\" and use when it is needed.\r\n                      // console.log(\"Editor is ready to use!\", editor);\r\n                      if (editor) editor.isReadOnly = true;\r\n                    }}\r\n                    // onChange={(event, editor) => {\r\n                    //   const data = editor.getData();\r\n                    //   console.log({ event, editor, data });\r\n                    // }}\r\n                    onBlur={(event, editor) => {\r\n                      // console.log(\"Blur.\", editor);\r\n                    }}\r\n                    onFocus={(event, editor) => {\r\n                      // console.log(\"Focus.\", editor);\r\n                    }}\r\n                  />\r\n                </div>\r\n                <p>yazan: {authors(blog.blogAuthorId)}</p>\r\n                <p className=\"forCenteringImages\">\r\n                  {blog.imageId &&\r\n                    blog.imageId.map((image) => {\r\n                      return (\r\n                        <img\r\n                          alt=\"blog\"\r\n                          src={`data:image/jpeg;base64,${image[\"data\"]}`}\r\n                          height=\"100px\"\r\n                          width=\"100px\"\r\n                          key={image._id}\r\n                          className=\"images\"\r\n                        />\r\n                      );\r\n                    })}\r\n                </p>\r\n              </Link>\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogList;\r\n","import axios from \"axios\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport BlogList from \"./BlogList\";\r\nimport { resetState } from \"./redux\";\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState(null);\r\n  // eslint-disable-next-line\r\n  const [error, setError] = useState(null);\r\n  const [pending, setPending] = useState(null);\r\n  const unmounted = useRef(null);\r\n  // eslint-disable-next-line\r\n  const [show, setShow] = useState(true);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      message ===\r\n      \"ifre sfrlama emaili gnderildi. bu sayfay kapatabilirsiniz\"\r\n    )\r\n      dispatch(resetState());\r\n  }, [message, dispatch]);\r\n\r\n  useEffect(() => {\r\n    unmounted.current = false;\r\n    setPending(true);\r\n    axios\r\n      .get(\"/api/blogs\")\r\n      .then((res) => {\r\n        //res.data[0];\r\n        // console.log(res);\r\n        setData(res.data[0]);\r\n        setPending(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        setPending(false);\r\n        setError(err);\r\n      });\r\n    return () => {\r\n      unmounted.current = true;\r\n      setPending(false);\r\n      setShow(false);\r\n      dispatch(resetState());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  // console.log(\"blogs \", blogs);\r\n  return (\r\n    <div className=\"home\">\r\n      {pending && <div>yklyor...</div>}\r\n      {message && show && <Alert variant=\"info\">{message}</Alert>}\r\n      {data && <BlogList data={data} title=\"blog listesi!\" />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n// import { useHistory } from \"react-router\";\r\nimport Compress from \"browser-image-compression\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nconst Create = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [imaj, setImaj] = useState([]);\r\n  const [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [wordCount, setWordCount] = useState(0);\r\n  // const history = useHistory();\r\n  const MAX_LENGTH = 4;\r\n\r\n  const config = {\r\n    toolbar: {\r\n      items: [\r\n        \"heading\",\r\n        \"|\",\r\n        \"bold\",\r\n        \"italic\",\r\n        \"link\",\r\n        \"outdent\",\r\n        \"indent\",\r\n        \"bulletedList\",\r\n        \"numberedList\",\r\n        \"insertTable\",\r\n        \"blockQuote\",\r\n        \"undo\",\r\n        \"redo\",\r\n      ],\r\n    },\r\n    link: {\r\n      // Automatically add target=\"_blank\" and rel=\"noopener noreferrer\" to all external links.\r\n      addTargetToExternalLinks: true,\r\n    },\r\n  };\r\n  const changeHandler = (event) => {\r\n    setIsFilePicked(true);\r\n    const options = {\r\n      // As the key specify the maximum size\r\n      // Leave blank for infinity\r\n      maxSizeMB: 1,\r\n      // Use webworker for faster compression with\r\n      // the help of threads\r\n      useWebWorker: true,\r\n    };\r\n\r\n    if (Array.from(event.target.files).length > MAX_LENGTH) {\r\n      event.preventDefault();\r\n      setError(`bir blog iin ${MAX_LENGTH} resimden fazla ykleyemezsiniz`);\r\n      setIsFilePicked(false);\r\n      return;\r\n    }\r\n\r\n    //setSelectedFile([...selectedFile, event.target.files]);\r\n    setSelectedFile(event.target.files);\r\n\r\n    setImaj([]);\r\n    for (const file of event.target.files) {\r\n      Compress(file, options)\r\n        .then((compressedBlob) => {\r\n          compressedBlob.lastModifiedDate = new Date();\r\n\r\n          const convertedBlobFile = new File([compressedBlob], file.name, {\r\n            type: file.type,\r\n            lastModified: Date.now(),\r\n          });\r\n          let r = URL.createObjectURL(convertedBlobFile);\r\n\r\n          setImaj((imaj) => imaj.concat(r));\r\n          setError(\"\");\r\n          // one.src = URL.createObjectURL(event.target.files);\r\n          // one.onload = function () {\r\n          //   URL.revokeObjectURL(one.src); // free memory\r\n          // };\r\n          // };\r\n        })\r\n        .catch((e) => {\r\n          // Show the user a toast message or notification that something went wrong while compressing file\r\n          console.log(e.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    const formData = new FormData();\r\n\r\n    for (const file of selectedFile) {\r\n      formData.append(\"files\", file);\r\n    }\r\n    //formData.append(\"files\", selectedFile); //this is wrong. the right way is the for loop above.\r\n    formData.append(\"body\", body);\r\n    formData.append(\"title\", title);\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Accept: \"application/json\",\r\n      },\r\n      withCredentials: true,\r\n      crossDomain: true,\r\n    };\r\n\r\n    axios\r\n      .post(\"/api/blogs\", formData, config)\r\n      .then((result) => {\r\n        setIsPending(false);\r\n        if (result.data.too_many_pictures_at_once) {\r\n          setError(\"bir kerede 4 resim ykleyebilirsiniz\");\r\n          return;\r\n        }\r\n        if (result.data.title_too_short_or_long) {\r\n          setError(\"balk 1 karakter ile 100 karakter arasnda olmal\");\r\n          return;\r\n        }\r\n\r\n        if (result.data.body_too_short_or_long) {\r\n          setError(\"blog 1 karakter ile 10000 karakter arasnda olmal\");\r\n          return;\r\n        } else {\r\n          // history.push(\"/\");\r\n          window.location = \"/\";\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"create\">\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <h2 data-testid=\"newBlogH2\">yeni blog ekle</h2>\r\n      <form action=\"\">\r\n        <label htmlFor=\"\">blog bal:</label>\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          value={title}\r\n          data-testid=\"titleInput\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n\r\n        <label htmlFor=\"\">blog:</label>\r\n        <div className=\"App\">\r\n          <CKEditor\r\n            editor={ClassicEditor}\r\n            data={body}\r\n            config={config}\r\n            onReady={(editor) => {\r\n              // You can store the \"editor\" and use when it is needed.\r\n              // console.log(\"Editor is ready to use!\", editor);\r\n            }}\r\n            onChange={(event, editor) => {\r\n              const data = editor.getData();\r\n              setBody(data);\r\n              // console.log({ event, editor, data });\r\n              setWordCount(data.length);\r\n            }}\r\n            onBlur={(event, editor) => {\r\n              // console.log(\"Blur.\", editor);\r\n            }}\r\n            onFocus={(event, editor) => {\r\n              // console.log(\"Focus.\", editor);\r\n            }}\r\n          />\r\n        </div>\r\n        <div id=\"word-count\">\r\n          {10000 - wordCount} karater yazma hakknz kald\r\n        </div>\r\n        <p></p>\r\n        <Alert variant=\"info\">\r\n          bu ekranda bir kerede en fazla 4 resim ykleyebilirsiniz\r\n        </Alert>\r\n        <p></p>\r\n        <input\r\n          type=\"file\"\r\n          name=\"files\"\r\n          id=\"files\"\r\n          multiple=\"muliple\"\r\n          accept=\"image/*\"\r\n          onClick={(e) => (e.target.value = null)}\r\n          onChange={changeHandler}\r\n        />\r\n        <p></p>\r\n        {imaj &&\r\n          imaj.map((im, index) => (\r\n            <img\r\n              id=\"one\"\r\n              src={im}\r\n              key={index}\r\n              alt=\"upload\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              className=\"images\"\r\n            />\r\n          ))}\r\n        {isFilePicked && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n          />\r\n        )}\r\n        <p></p>\r\n        {!isPending && (\r\n          <button data-testid=\"blogAddButton\" onClick={handleSubmit}>\r\n            blog ekle\r\n          </button>\r\n        )}\r\n        {isPending && <button>blog ekliyor...</button>}\r\n      </form>\r\n      <p></p>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nvar HOST = window.location.origin;\r\n\r\nconst socket = io(HOST, {\r\n  transports: [\"websocket\", \"polling\"],\r\n});\r\n\r\nlet users = {};\r\n\r\nexport const userContext = React.createContext(users);\r\nexport const socketContext = React.createContext(socket);\r\n","import { useHistory, useParams } from \"react-router\";\r\nimport { useState, useEffect, useRef, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { deleteBlog } from \"../src/redux\";\r\nimport { submitComment } from \"./redux\";\r\nimport { deleteComment } from \"./redux\";\r\nimport { getComments } from \"./redux\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { /* connect */ useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport moment from \"moment\";\r\nimport trLocale from \"moment/locale/tr\";\r\nimport { socketContext } from \"./SocketIOContext\";\r\n\r\nmoment.updateLocale(\"tr\", trLocale);\r\n\r\nconst BlogDetails = () => {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  // let users = useContext(userContext);\r\n  // console.log(\"users.current in BlogDetails\", users.current);\r\n\r\n  // const [usersLocal, setUsersLocal] = useState([]);\r\n\r\n  const [blogAuthorIds, setBlogAuthorIds] = useState(null);\r\n  const [blog, setBlog] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [ind, setInd] = useState(null);\r\n  const needToCheckRef = useRef(true);\r\n  const [sameuser, setSameuser] = useState(null);\r\n  const [pending, setPending] = useState(null);\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n  const unmounted = useRef(null);\r\n  const nick = useSelector((state) => state.auth?.userName);\r\n  const [reload, setReload] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [needForCommentsToLoad, setNeedForCommentsToLoad] = useState(true);\r\n  const comments = useSelector((state) => state.auth?.comments);\r\n\r\n  // const loading = useSelector((state) => state.auth?.loading);\r\n\r\n  const textAreaRef = useRef(null);\r\n  const [singleCommentBySocketIO, setSingleCommentBySocketIO] = useState(null);\r\n\r\n  // eslint-disable-next-line\r\n  const [commentRemoved, setCommentRemoved] = useState(null);\r\n\r\n  const socket = useContext(socketContext);\r\n\r\n  const [users, setUsers] = useState([]);\r\n\r\n  // const [message, setMessage] = useState(\"\");\r\n  // const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"connect\", () => {\r\n      socket.emit(\"username\", nick);\r\n    });\r\n\r\n    socket.on(\"users\", (users) => {\r\n      setUsers(users);\r\n    });\r\n\r\n    // socket.on(\"message\", (message) => {\r\n    //   setMessages((messages) => [...messages, message]);\r\n    // });\r\n\r\n    socket.on(\"connected\", (user) => {\r\n      // console.log(\"user 1111111111111111111\", user);\r\n      setUsers((users) => [...users, user]);\r\n    });\r\n\r\n    socket.on(\"disconnected\", (id) => {\r\n      setUsers((users) => {\r\n        // console.log(typeof users);\r\n        return users.filter((user) => user.id !== id);\r\n      });\r\n    });\r\n  }, [nick, socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"singleCommentBySocketIO\", (commentsArrived) => {\r\n      setSingleCommentBySocketIO(commentsArrived.singleCommentBySocketIO);\r\n      setShow(true);\r\n      setReload(true);\r\n    });\r\n\r\n    socket.on(\"commentRemovedBySocketIO\", (commentsArrived) => {\r\n      setCommentRemoved(commentsArrived.commentRemovedBySocketIO._id);\r\n      setReload(true);\r\n    });\r\n  }, [nick, socket, reload]);\r\n\r\n  useEffect(() => {\r\n    unmounted.current = false;\r\n    setPending(true);\r\n    let config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Accept: \"application/json\",\r\n      },\r\n      withCredentials: true,\r\n      crossDomain: true,\r\n    };\r\n    axios\r\n      .get(\"/api/blogs/\" + id, config)\r\n      .then((res) => {\r\n        // console.log(\"res \", res.data);\r\n        setBlog(res.data[0].blog);\r\n        setSameuser(res.data[0].sameUser);\r\n        // setBlogAuthorIds((blogAuthorIds) =>\r\n        //   blogAuthorIds.concat(res.data[0].blog.blogAuthorId)\r\n        // );\r\n\r\n        setBlogAuthorIds(res.data[0].blog.blogAuthorId);\r\n\r\n        setImages(res.data[0].blog.imageId);\r\n        dispatch(getComments(id));\r\n        setPending(false);\r\n        setReload(false);\r\n        setNeedForCommentsToLoad(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        setPending(false);\r\n        setError(err);\r\n      });\r\n\r\n    return () => {\r\n      setPending(false);\r\n      unmounted.current = true;\r\n    };\r\n  }, [dispatch, id, reload]);\r\n\r\n  const handleClickForEdit = () => {\r\n    history.push(`/blogs/${id}/edit`);\r\n  };\r\n\r\n  const handleClickForDelete = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch(deleteBlog(id));\r\n      history.push(\"/\");\r\n      // window.location = \"/\";\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleClickForDeleteForComment = (commentId, e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch(deleteComment(commentId));\r\n      // setReload(true);\r\n      setConfirmDelete(false);\r\n      // dispatch(getComments(id));\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const handleCommentSubmit = (e, levelZero = null) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch(submitComment(comment, id, levelZero));\r\n      // socket.emit(\"send\", message);\r\n      // setMessage(\"\");\r\n      setNeedForCommentsToLoad(false);\r\n      dispatch(getComments(id));\r\n      setComment(\"\");\r\n      // setReload(true);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  const getAuthors = () => {\r\n    // return \"reta\";\r\n    return (\r\n      blogAuthorIds && blogAuthorIds.map((value) => value.userName).join(\", \")\r\n    );\r\n  };\r\n\r\n  const checkIfSuperUser = () => {\r\n    let answer = blogAuthorIds && blogAuthorIds.map((obj) => obj.userName);\r\n\r\n    let passed;\r\n\r\n    if (answer.includes(nick)) {\r\n      passed = true;\r\n    } else {\r\n      passed = false;\r\n    }\r\n\r\n    // console.log(\"^^^^^^^^^^^^^^ \", passed);\r\n\r\n    if (passed) {\r\n      needToCheckRef.current = false;\r\n      return true;\r\n    } else return false;\r\n  };\r\n\r\n  const checkIfOwner = (commentAuthorName) => {\r\n    let passed;\r\n    // console.log(commentAuthorName === nick);\r\n    if (commentAuthorName === nick) {\r\n      passed = true;\r\n    } else {\r\n      passed = false;\r\n    }\r\n    // console.log(\"$$$$$$$$$$$$$$$ \", commentAuthorName);\r\n    if (passed) return true;\r\n    else return false;\r\n  };\r\n\r\n  const setShowOnlyOnce = (id) => {\r\n    if (ind === id) return true;\r\n    return false;\r\n  };\r\n\r\n  const config = {\r\n    toolbar: {\r\n      items: [],\r\n      viewportTopOffset: 0,\r\n    },\r\n  };\r\n\r\n  const showUsers = (users) => {\r\n    return (\r\n      users && (\r\n        <div className=\"col-md-4\">\r\n          <h6>sistemde bulunanlar: </h6>\r\n          <ul id=\"users\" style={{ listStyleType: \"none\" }}>\r\n            {Array.from(users)\r\n              .map((user) => user.name)\r\n              .filter((value, index, self) => self.indexOf(value) === index)\r\n              .map((name, index) => (\r\n                <li key={index}>{name}</li>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const renderBlog = () => {\r\n    return (\r\n      <div>\r\n        <h2>{blog.title}</h2>\r\n        <p>written by {getAuthors(id)}</p>\r\n        <div className=\"App\">\r\n          <CKEditor\r\n            config={config}\r\n            editor={ClassicEditor}\r\n            data={blog.body}\r\n            onReady={(editor) => {\r\n              // You can store the \"editor\" and use when it is needed.\r\n              // console.log(\"Editor is ready to use!\", editor);\r\n              if (editor) editor.isReadOnly = true;\r\n            }}\r\n            // onChange={(event, editor) => {\r\n            //   const data = editor.getData();\r\n            //   console.log({ event, editor, data });\r\n            // }}\r\n            onBlur={(event, editor) => {\r\n              // console.log(\"Blur.\", editor);\r\n            }}\r\n            onFocus={(event, editor) => {\r\n              // console.log(\"Focus.\", editor);\r\n            }}\r\n          />\r\n        </div>\r\n        <p className=\"forCenteringImages\">\r\n          {images &&\r\n            images.map((img) => {\r\n              return (\r\n                <img\r\n                  alt=\"blog\"\r\n                  src={`data:image/jpeg;base64,${img[\"data\"]}`}\r\n                  height=\"100px\"\r\n                  width=\"100px\"\r\n                  key={img._id}\r\n                  className=\"images\"\r\n                />\r\n              );\r\n            })}\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {confirmDelete && (\r\n        <Alert variant=\"danger\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={() => setConfirmDelete(false)}\r\n          >\r\n            vazge\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-danger\"\r\n            data-bs-dismiss=\"modal\"\r\n            onClick={(e) => handleClickForDelete(e)}\r\n            data-dismiss=\"modal\"\r\n          >\r\n            eminim blog'u silebilirsin!\r\n          </button>\r\n        </Alert>\r\n      )}\r\n\r\n      <div className=\"blog-details\">\r\n        {pending && <div>Loading...</div>}\r\n        {error && <div>{error}</div>}\r\n        {renderBlog()}\r\n        {sameuser ? (\r\n          <>\r\n            <Button\r\n              variant=\"warning\"\r\n              className=\"forMarginForButton\"\r\n              onClick={handleClickForEdit}\r\n              data-testid=\"editButton\"\r\n              id=\"editButton\"\r\n            >\r\n              dzenle\r\n            </Button>\r\n            <Button\r\n              variant=\"danger\"\r\n              className=\"forMarginForButton\"\r\n              onClick={() => setConfirmDelete(true)}\r\n            >\r\n              blog'u sil\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <p></p>\r\n        <div className=\"flash-comments\">\r\n          <div className=\"header\">\r\n            <div>\r\n              <img src=\"./comments.png\" alt=\"comment logo\" />\r\n            </div>\r\n            <div className=\"text\">yorum ekleyebilirsin, {nick}</div>\r\n          </div>\r\n          {/* {console.log(\"commentRemoved\", commentRemoved)} */}\r\n          {commentRemoved &&\r\n            comments.filter(\r\n              (comment) => comment._id.toString() !== commentRemoved.toString()\r\n            )}\r\n          {/* {console.log(\"comments \", comments)} */}\r\n          {comments &&\r\n            comments.length > 0 &&\r\n            comments.map((comment, index) => {\r\n              return (\r\n                <div key={comment._id}>\r\n                  <span>\r\n                    <b>{comment.commentAuthorId.userName}</b> - a -\r\n                  </span>\r\n                  : &nbsp;\r\n                  <span>\r\n                    {moment(comment?.createdAt).format(\"ddd MMM yyy hh mm ss\")}\r\n                  </span>\r\n                  &nbsp; - <span>{comment?.comment}</span> &nbsp; &nbsp;\r\n                  <br />\r\n                  &nbsp;\r\n                  {checkIfSuperUser() && (\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      onClick={(e) => {\r\n                        setConfirmDelete(true);\r\n                        setInd(index);\r\n                      }}\r\n                    >\r\n                      sil\r\n                    </Button>\r\n                  )}\r\n                  {checkIfOwner(comment.commentAuthorId?.userName) &&\r\n                    needToCheckRef.current && (\r\n                      <Button\r\n                        variant=\"danger\"\r\n                        onClick={(e) => {\r\n                          setConfirmDelete(true);\r\n                          setInd(index);\r\n                        }}\r\n                      >\r\n                        sil\r\n                      </Button>\r\n                    )}\r\n                  {confirmDelete && setShowOnlyOnce(index) && (\r\n                    <Alert variant=\"danger\">\r\n                      <span>Yorumu silmek istedinizden emin misiniz?</span>{\" \"}\r\n                      &nbsp; &nbsp;\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => setConfirmDelete(false)}\r\n                      >\r\n                        vazge\r\n                      </button>\r\n                      &nbsp;\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-danger\"\r\n                        data-bs-dismiss=\"modal\"\r\n                        onClick={(e) =>\r\n                          handleClickForDeleteForComment(comment._id, e)\r\n                        }\r\n                        data-dismiss=\"modal\"\r\n                      >\r\n                        sil\r\n                      </button>\r\n                    </Alert>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          {singleCommentBySocketIO &&\r\n            needForCommentsToLoad &&\r\n            singleCommentBySocketIO._id !== commentRemoved?.toString() && (\r\n              <>\r\n                {/* {console.log(\r\n                  \"singleCommentBySocketIO \",\r\n                  singleCommentBySocketIO\r\n                )} */}\r\n                <span>\r\n                  <b>{singleCommentBySocketIO.commentAuthorId.userName}</b> - b-\r\n                </span>{\" \"}\r\n                &nbsp;\r\n                <span>\r\n                  {moment(singleCommentBySocketIO?.createdAt).format(\r\n                    \"ddd MMM yyy hh mm ss\"\r\n                  )}\r\n                </span>\r\n                &nbsp; - <span>{singleCommentBySocketIO?.comment}</span>\r\n              </>\r\n            )}\r\n          &nbsp; &nbsp;\r\n          <br />\r\n          &nbsp;\r\n          {singleCommentBySocketIO?._id &&\r\n            needForCommentsToLoad &&\r\n            singleCommentBySocketIO._id !== commentRemoved?.toString() &&\r\n            (checkIfSuperUser(blogAuthorIds) ||\r\n              checkIfOwner(\r\n                singleCommentBySocketIO?.commentAuthorId.userName\r\n              )) && (\r\n              <Button\r\n                variant=\"danger\"\r\n                onClick={(e) => {\r\n                  setConfirmDelete(true);\r\n                }}\r\n              >\r\n                sil\r\n              </Button>\r\n            )}\r\n          {singleCommentBySocketIO?._id && confirmDelete && !show && (\r\n            <Alert variant=\"danger\">\r\n              <span>Yorumu silmek istedinizden emin misiniz?</span> &nbsp;\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={() => setConfirmDelete(false)}\r\n              >\r\n                vazge\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                data-bs-dismiss=\"modal\"\r\n                onClick={(e) =>\r\n                  handleClickForDeleteForComment(singleCommentBySocketIO._id, e)\r\n                }\r\n                data-dismiss=\"modal\"\r\n              >\r\n                sil\r\n              </button>\r\n            </Alert>\r\n          )}\r\n          {\r\n            <>\r\n              <div className=\"comment-form\">\r\n                <div className=\"row\">\r\n                  <Form.Control\r\n                    required\r\n                    id=\"new_comment_text\"\r\n                    as=\"textarea\"\r\n                    rows={2}\r\n                    ref={textAreaRef}\r\n                    value={comment}\r\n                    onChange={(e) => {\r\n                      setComment(e.target.value);\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <button\r\n                  type=\"submit\"\r\n                  onClick={(e) => handleCommentSubmit(e)}\r\n                  className=\"btn btn-primary btn-md btn-block\"\r\n                >\r\n                  yorum yaz\r\n                </button>\r\n              </div>\r\n            </>\r\n          }\r\n          <p></p>\r\n          {error && <div>{error}</div>}\r\n        </div>\r\n      </div>\r\n\r\n      {users && showUsers(users)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlogDetails;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h2>Sorry</h2>\r\n      <p>Bulunmayan Sayfa</p>\r\n      <Link to=\"/\">Ev sayfasina donun...</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { /* connect */ useDispatch, useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { postUser /*checkAuth*/ } from \"./redux\";\r\nimport { resetState } from \"./redux\";\r\n\r\nconst Signin = () => {\r\n  const { state } = useLocation();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const error = useSelector((state) => state.auth?.error);\r\n  // const loading = useSelector((state) => state.auth?.loading);\r\n  const logged = useSelector((state) => state.auth?.logged);\r\n  const dispatch = useDispatch();\r\n  // signing in does not work with dispatch hook (which is from react-redux package).\r\n  // console.log(\"state \", state);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      // dispatch(checkAuth());\r\n      // console.log(\"error\", error);\r\n      const link = (state && state.from) || \"/\";\r\n\r\n      if (logged) history.push(link);\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(resetState());\r\n    };\r\n  }, [logged, history, state, dispatch]);\r\n\r\n  const handleForgotPassword = (e) => {\r\n    e.preventDefault();\r\n    history.push(\"/forgotPassword\");\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      dispatch(postUser(email, password));\r\n      // const link = (state && state.from) || \"/\";\r\n      history.push(\"/signin\");\r\n      // return;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form.Group controlId=\"formBasicEmail\">\r\n        <Form.Label>email</Form.Label>\r\n        <Form.Control\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          data-testid=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <Form.Text className=\"text-muted\"></Form.Text>\r\n      </Form.Group>\r\n\r\n      <Form.Group controlId=\"formBasicPassword\">\r\n        <Form.Label>ifre</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          data-testid=\"password\"\r\n          autocomplete=\"current-password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n      <Button variant=\"primary\" type=\"submit\" data-testid=\"signinButton\">\r\n        giri yap\r\n      </Button>\r\n      <Button\r\n        variant=\"secondary\"\r\n        className=\"float-end\"\r\n        type=\"button\"\r\n        data-testid=\"forgetPasswordButton\"\r\n        onClick={handleForgotPassword}\r\n      >\r\n        ifremi unuttum\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\n// Recommended way is to use hooks from react-redux library instead of\r\n// mapStateToProps && mapDispatchToProps methods.\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     userData: state,\r\n//   };\r\n// };\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     postUser: (email, password) => dispatch(postUser(email, password)),\r\n//   };\r\n// };\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// very delicate component, try not change anything.\r\nexport const PrivateRoute = ({\r\n  isloading,\r\n  isAuthenticated,\r\n  nick,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    !isloading && (\r\n      <Route\r\n        {...rest}\r\n        component={(props) =>\r\n          isAuthenticated ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    )\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n\r\n// import React from \"react\";\r\n// import { Route, Redirect } from \"react-router-dom\";\r\n\r\n// // very delicate component, try not change anything.\r\n// export const PrivateRoute = ({\r\n//   isloading,\r\n//   isAuthenticated,\r\n//   component: Component,\r\n//   ...rest\r\n// }) => {\r\n//   return (\r\n//     <Route\r\n//       {...rest}\r\n//       component={(props) =>\r\n//         isAuthenticated ? (\r\n//           <Component {...props} />\r\n//         ) : (\r\n//           <Redirect\r\n//             to={{\r\n//               pathname: \"/\",\r\n//               state: { from: props.location },\r\n//             }}\r\n//           />\r\n//         )\r\n//       }\r\n//     />\r\n//   );\r\n// };\r\n\r\n// export default PrivateRoute;\r\n","import { useParams } from \"react-router\";\r\nimport Button from \"react-bootstrap/Button\";\r\n// import { Badge } from \"react-bootstrap\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Compress from \"browser-image-compression\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { resetState } from \"./redux\";\r\n\r\nconst MAX_LENGTH = 1;\r\n\r\nconst config = {\r\n  toolbar: {\r\n    items: [\r\n      \"heading\",\r\n      \"|\",\r\n      \"bold\",\r\n      \"italic\",\r\n      \"link\",\r\n      \"outdent\",\r\n      \"indent\",\r\n      \"bulletedList\",\r\n      \"numberedList\",\r\n      \"insertTable\",\r\n      \"blockQuote\",\r\n      \"undo\",\r\n      \"redo\",\r\n    ],\r\n  },\r\n  link: {\r\n    // Automatically add target=\"_blank\" and rel=\"noopener noreferrer\" to all external links.\r\n    addTargetToExternalLinks: true,\r\n  },\r\n};\r\n\r\nconst EditBlog = () => {\r\n  const { id } = useParams();\r\n  // eslint-disable-next-line\r\n  // const history = useHistory();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [imageModified, setImageModified] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState([]);\r\n  const [imaj, setImaj] = useState([]);\r\n  const [isFilePicked, setIsFilePicked] = useState(false);\r\n  const [images, setImages] = useState([]);\r\n  // eslint-disable-next-line\r\n  const [blog, setBlog] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [errorUI, setErrorUI] = useState(null);\r\n  const [wordCount, setWordCount] = useState(0);\r\n  // eslint-disable-next-line\r\n  const [pending, setPending] = useState(null);\r\n  const unmounted = useRef(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    unmounted.current = false;\r\n    setPending(true);\r\n    setReload(false);\r\n    let config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Accept: \"application/json\",\r\n      },\r\n      withCredentials: true,\r\n      crossDomain: true,\r\n    };\r\n    axios\r\n      .get(\"/api/blogs/\" + id, config)\r\n      .then((res) => {\r\n        // console.log(\"res \", res.data);\r\n        setBlog(res.data[0].blog);\r\n        setTitle(res.data[0].blog.title);\r\n        setBody(res.data[0].blog.body);\r\n        setImages([]);\r\n        setImages((images) => images.concat(res.data[0].blog.imageId));\r\n        // setAuthor(res.data[0].author);\r\n        setPending(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        setPending(false);\r\n        setError(err);\r\n      });\r\n    return () => {\r\n      setPending(false);\r\n      unmounted.current = true;\r\n      dispatch(resetState());\r\n    };\r\n  }, [id, reload, dispatch]);\r\n\r\n  const changeHandler = (event) => {\r\n    setIsFilePicked(true);\r\n    setPending(false);\r\n    setErrorUI(null);\r\n    const options = {\r\n      // As the key specify the maximum size\r\n      // Leave blank for infinity\r\n      maxSizeMB: 1,\r\n      // Use webworker for faster compression with\r\n      // the help of threads\r\n      useWebWorker: true,\r\n    };\r\n\r\n    if (Array.from(event.target.files).length > MAX_LENGTH) {\r\n      event.preventDefault();\r\n      setErrorUI(\r\n        `bir kerede ${MAX_LENGTH} resim ykleyebilirsiniz. resim yklerken eer veritabnnda 4 resminiz varsa en eskisi (soldan ilk resim) silinecek`\r\n      );\r\n      event.target.value = null;\r\n      setIsFilePicked(false);\r\n      return;\r\n    }\r\n\r\n    // setSelectedFile((selectedFile) => [...selectedFile, event.target.files]);\r\n    setSelectedFile(event.target.files);\r\n\r\n    setImaj([]);\r\n    for (const file of event.target.files) {\r\n      Compress(file, options)\r\n        .then((compressedBlob) => {\r\n          compressedBlob.lastModifiedDate = new Date();\r\n\r\n          const convertedBlobFile = new File([compressedBlob], file.name, {\r\n            type: file.type,\r\n            lastModified: Date.now(),\r\n          });\r\n          let r = URL.createObjectURL(convertedBlobFile);\r\n          console.log(r);\r\n\r\n          setImaj((imaj) => imaj.concat(r));\r\n          // one.src = URL.createObjectURL(event.target.files);\r\n          // one.onload = function () {\r\n          //   URL.revokeObjectURL(one.src); // free memory\r\n          // };\r\n          // };\r\n          setImageModified(true);\r\n        })\r\n        .catch((e) => {\r\n          // Show the user a toast message or notification that something went wrong while compressing file\r\n          console.log(e.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleImageDelete = (e, blogId, imageId, body, title) => {\r\n    e.preventDefault();\r\n    // var formData = new FormData();\r\n    // formData.append(\"blog\", body);\r\n    // formData.append(\"title\", title);\r\n\r\n    // for (let [key, value] of formData.entries()) {\r\n    //   console.log(key, value);\r\n    // }\r\n\r\n    let config = {\r\n      headers: {\r\n        // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Accept: \"application/json\",\r\n        blogId: blogId,\r\n      },\r\n      withCredentials: true,\r\n      crossDomain: true,\r\n    };\r\n\r\n    let data = {\r\n      blog: body,\r\n      title: title,\r\n    };\r\n\r\n    axios\r\n      .patch(`/api/image/${imageId}`, data, config)\r\n      .then(() => setReload(true))\r\n      .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  const handleClickForEdit = (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    let formData;\r\n    let config;\r\n\r\n    // console.log(\"imageModified \", imageModified);\r\n\r\n    if (imageModified) {\r\n      formData = new FormData();\r\n\r\n      for (const file of selectedFile) {\r\n        formData.append(\"files\", file);\r\n      }\r\n      //formData.append(\"files\", selectedFile); //this is wrong. the right way is the for loop above.\r\n      formData.append(\"body\", body);\r\n      formData.append(\"title\", title);\r\n      config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          Accept: \"application/json\",\r\n        },\r\n        withCredentials: true,\r\n        crossDomain: true,\r\n      };\r\n    } else {\r\n      config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        withCredentials: true,\r\n        crossDomain: true,\r\n      };\r\n\r\n      formData = {\r\n        body: body,\r\n        title: title,\r\n      };\r\n    }\r\n\r\n    axios\r\n      .put(`/api/blogs/${id}/edit`, formData, config)\r\n      .then((result) => {\r\n        // if (result.data.no_image_action) history.push(\"/\");\r\n        if (result.data.too_many_pictures_at_once)\r\n          setErrorUI(\"bir kerede bir resim ykleyebilirsiniz\");\r\n        if (result.data.title_too_short_or_long) {\r\n          setErrorUI(\"balk 1 karakter ile 100 karakter arasnda olmal\");\r\n          return;\r\n        }\r\n        if (result.data.body_too_short_or_long) {\r\n          setErrorUI(\"blog 1 karakter ile 10000 karakter arasnda olmal\");\r\n          return;\r\n        } else {\r\n          setErrorUI(null);\r\n          setImaj([]);\r\n          setIsPending(false);\r\n          setReload(true);\r\n          // history.push(`/blogs/${id}/edit`);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"create\">\r\n      <h2>blog dzelt</h2>\r\n      {errorUI && (\r\n        <Alert data-testid=\"alertEditBlog\" id=\"alertEditBlog\" variant=\"danger\">\r\n          {errorUI}\r\n        </Alert>\r\n      )}\r\n      <Link className=\"float-right\" to=\"/\">\r\n        blog listesine git\r\n      </Link>\r\n      <p></p>\r\n      <form action=\"\">\r\n        <label htmlFor=\"\">blog bal:</label>\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          value={title}\r\n          data-testid=\"titleInput\"\r\n          id=\"titleInput\"\r\n          onChange={(e) => {\r\n            setErrorUI(null);\r\n            setIsPending(false);\r\n            setTitle(e.target.value);\r\n            setImageModified(false);\r\n          }}\r\n        />\r\n\r\n        <label htmlFor=\"\">blog:</label>\r\n        <div className=\"App\">\r\n          <CKEditor\r\n            editor={ClassicEditor}\r\n            data={body}\r\n            config={config}\r\n            onReady={(editor) => {\r\n              // You can store the \"editor\" and use when it is needed.\r\n              // console.log(\"Editor is ready to use!\", editor);\r\n            }}\r\n            onChange={(event, editor) => {\r\n              const data = editor.getData();\r\n              setBody(data);\r\n              // console.log({ event, editor, data });\r\n              setWordCount(data.length);\r\n              setErrorUI(null);\r\n              setIsPending(false);\r\n              setImageModified(false);\r\n            }}\r\n            onBlur={(event, editor) => {\r\n              // console.log(\"Blur.\", editor);\r\n            }}\r\n            onFocus={(event, editor) => {\r\n              // console.log(\"Focus.\", editor);\r\n            }}\r\n          />\r\n          <div id=\"word-count\">\r\n            {10000 - wordCount} karater yazma hakknz kald\r\n          </div>\r\n        </div>\r\n        <p></p>\r\n        <Alert variant=\"info\">\r\n          bu ekranda bir kerede 1 resim ykleyebilirsiniz\r\n          <br />\r\n          resim yklerken eer veritabnnda 4 resminiz varsa en eskisi <br />\r\n          (soldan ilk resim) silinecektir\r\n        </Alert>\r\n        <p></p>\r\n        {images.map((image, index) => {\r\n          return (\r\n            <span key={index} id={image._id}>\r\n              <Button\r\n                variant=\"danger\"\r\n                id=\"eraseButton\"\r\n                data-testid=\"eraseButton\"\r\n                onClick={(e) =>\r\n                  handleImageDelete(e, id, image._id, body, title)\r\n                }\r\n              >\r\n                sil\r\n              </Button>\r\n              <img\r\n                alt=\"blog\"\r\n                src={`data:image/jpeg;base64,${image[\"data\"]}`}\r\n                height=\"75px\"\r\n                width=\"75px\"\r\n                className=\"images\"\r\n                data-testid=\"imgTag\"\r\n              />\r\n            </span>\r\n          );\r\n        })}\r\n        <p></p>\r\n        <input\r\n          type=\"file\"\r\n          name=\"files\"\r\n          id=\"files\"\r\n          onClick={(e) => (e.target.value = null)}\r\n          onChange={changeHandler}\r\n        />\r\n        <p></p>\r\n        {imageModified &&\r\n          imaj &&\r\n          imaj.map((im, index) => (\r\n            <img\r\n              id=\"one\"\r\n              src={im}\r\n              key={index}\r\n              alt=\"upload\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              className=\"images\"\r\n            />\r\n          ))}\r\n        {isFilePicked && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={1000} //3 secs\r\n          />\r\n        )}\r\n        <p></p>\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n        <p></p>\r\n        {errorUI && <Alert variant=\"danger\">{errorUI}</Alert>}\r\n        {(!isPending || errorUI) && (\r\n          <button\r\n            data-testid=\"blogEditButton\"\r\n            id=\"blogEditButton\"\r\n            onClick={handleClickForEdit}\r\n          >\r\n            blog bzelt\r\n          </button>\r\n        )}\r\n        {isPending && !errorUI && <button>blog dzeltiliyor...</button>}\r\n        <p></p>\r\n        <Link className=\"float-right\" to=\"/\">\r\n          blog listesine git\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditBlog;\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n// import Home from \"./Home\";\r\n// import Signin from \"./Signin\";\r\n\r\nexport const PublicRoute = ({\r\n  isloading,\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    !isloading && (\r\n      <Route {...rest} component={(props) => <Component {...props} />} />\r\n    )\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { /*connect */ useDispatch, useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport { signup } from \"./redux\";\r\nimport { resetState } from \"./redux\";\r\n\r\nconst Signup = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [emailCheck, setEmailCheck] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const history = useHistory();\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const logged = useSelector((state) => state.auth?.logged);\r\n  const loading = useSelector((state) => state.auth?.loading);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (logged) history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(resetState());\r\n    };\r\n  }, [history, logged, dispatch]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!isEmail(email)) {\r\n        setEmailCheck(\r\n          \"emailinizde bir problem var. sistem geerli bir email olarak kabul etmiyor\"\r\n        );\r\n        return;\r\n      }\r\n      dispatch(signup({ email, password, passwordConfirm, userName }));\r\n      return;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {emailCheck && <Alert variant=\"danger\">{emailCheck}</Alert>}\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {message === \"\" || loading || emailCheck || error ? (\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>email</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"email\"\r\n              value={email}\r\n              data-testid=\"email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <Form.Text className=\"text-muted\"></Form.Text>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>kullanc ad</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"kullanc ad\"\r\n              value={userName}\r\n              data-testid=\"userName\"\r\n              onChange={(e) => setUserName(e.target.value)}\r\n            />\r\n            <Form.Text className=\"text-muted\"></Form.Text>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>ifre</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"ifre\"\r\n              value={password}\r\n              data-testid=\"password\"\r\n              autocomplete=\"off\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>ifre tekrar</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"tekrar ayn ifre\"\r\n              value={passwordConfirm}\r\n              data-testid=\"passwordConfirm\"\r\n              autocomplete=\"off\"\r\n              onChange={(e) => setPasswordConfirm(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <p></p>\r\n          {!loading && (\r\n            <Button variant=\"primary\" type=\"submit\" data-testid=\"signinButton\">\r\n              gnder\r\n            </Button>\r\n          )}\r\n          {loading && <button>bilgiler gnderiliyor...</button>}\r\n        </Form>\r\n      ) : (\r\n        <h3>{message}</h3>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { postForgotPassword } from \"./redux\";\r\n// import { resetState } from \"./redux\";\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isPending, setIsPending] = useState(false);\r\n  const history = useHistory();\r\n  const [postError, setPostError] = useState(\"\");\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const logged = useSelector((state) => state.auth?.logged);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const dispatch = useDispatch();\r\n  let btnRef = useRef(true);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setIsPending(false);\r\n      if (logged) history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n  }, [logged, history, isPending, dispatch]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    try {\r\n      dispatch(postForgotPassword(email));\r\n      if (btnRef.current) {\r\n        btnRef.current.setAttribute(\"disabled\", \"disabled\");\r\n      }\r\n      return;\r\n    } catch (error) {\r\n      setPostError(error.message);\r\n      console.log(error.message);\r\n      btnRef.current = false;\r\n      setIsPending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {message && <Alert variant=\"primary\">{message}</Alert>}\r\n      {error && !message && <Alert variant=\"danger\">{error}</Alert>}\r\n      {postError && !message && <Alert variant=\"danger\">{postError}</Alert>}\r\n      <Form.Group controlId=\"formBasicEmail\">\r\n        <Form.Label>email</Form.Label>\r\n        <Form.Control\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          data-testid=\"email\"\r\n          required\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <Form.Text className=\"text-muted\"></Form.Text>\r\n      </Form.Group>\r\n      <p></p>\r\n      {!isPending && (\r\n        <Button\r\n          variant=\"primary\"\r\n          id=\"forgotPasswordButton\"\r\n          data-testid=\"forgotPasswordButton\"\r\n          ref={btnRef}\r\n          type=\"submit\"\r\n        >\r\n          email adresime ifre sfrlama gnder\r\n        </Button>\r\n      )}\r\n      {isPending && (\r\n        <Button id=\"forgotPasswordButton\" variant=\"primary\">\r\n          ltfen bekleyin...\r\n        </Button>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { resetPassword } from \"../src/redux\";\r\n\r\nconst ResetPassword = () => {\r\n  const { token } = useParams();\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [postError, setPostError] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const history = useHistory();\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const logged = useSelector((state) => state.auth?.logged);\r\n  const link = useSelector((state) => state.auth?.statusCode);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setIsPending(false);\r\n      if (logged) history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n  }, [logged, history, isPending]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    try {\r\n      dispatch(resetPassword({ password, passwordConfirm, token }));\r\n      return;\r\n    } catch (error) {\r\n      setPostError(error.message);\r\n      console.log(error.message);\r\n      setIsPending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      {link && <Alert variant=\"danger\">{link}</Alert>}\r\n      {postError && !message && <Alert variant=\"danger\">{postError}</Alert>}\r\n      <Form.Group controlId=\"formBasicPassword\">\r\n        <Form.Label>ifre</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"ifre\"\r\n          value={password}\r\n          data-testid=\"password\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group controlId=\"formBasicPassword\">\r\n        <Form.Label>ifre tekrar</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"tekrar ayn ifre\"\r\n          value={passwordConfirm}\r\n          data-testid=\"passwordConfirm\"\r\n          required\r\n          onChange={(e) => setPasswordConfirm(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n\r\n      {!isPending && (\r\n        <Button variant=\"primary\" type=\"submit\" data-testid=\"signinButton\">\r\n          gnder\r\n        </Button>\r\n      )}\r\n      {isPending && <Button variant=\"primary\">ltfen bekleyin...</Button>}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { changeUsername } from \"./redux\";\r\n\r\nconst ChangeUsername = () => {\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [userNameConfirm, setUserNameConfirm] = useState(\"\");\r\n  const history = useHistory();\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const dispatch = useDispatch();\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(resetState());\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setIsPending(false);\r\n\r\n      // console.log(\"error \", error);\r\n      if (message.length > 0 && error === \"\") history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n    return () => {\r\n      setIsPending(false);\r\n    };\r\n  }, [error, history, message.length, isPending, dispatch]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    try {\r\n      dispatch(changeUsername(userName, userNameConfirm));\r\n      return;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      setIsPending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form.Group>\r\n        <Form.Label>kullanc ad</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"kullanc ad\"\r\n          value={userName}\r\n          data-testid=\"kullanc\"\r\n          required\r\n          onChange={(e) => setUserName(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n\r\n      <Form.Group>\r\n        <Form.Label>kullanc ad tekrar</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"tekrar ayn kullanc ad\"\r\n          value={userNameConfirm}\r\n          data-testid=\"userNameConfirm\"\r\n          required\r\n          onChange={(e) => setUserNameConfirm(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n\r\n      {!isPending && (\r\n        <Button\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          data-testid=\"changeUserNameButton\"\r\n        >\r\n          gnder\r\n        </Button>\r\n      )}\r\n      {isPending && <Button variant=\"primary\">ltfen bekleyin...</Button>}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ChangeUsername;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { changePassword } from \"./redux\";\r\n// import { resetState } from \"./redux\";\r\n\r\nconst ChangePassword = () => {\r\n  const [isPending, setIsPending] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const history = useHistory();\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const message = useSelector((state) => state.auth?.message);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setIsPending(false);\r\n      // console.log(\"error \", error);\r\n      if (message.length > 0 && error === \"\") history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n    return () => {\r\n      setIsPending(false);\r\n      // dispatch(resetState());\r\n    };\r\n  }, [error, history, message.length, isPending, dispatch]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsPending(true);\r\n\r\n    try {\r\n      dispatch(changePassword(password, passwordConfirm));\r\n      return;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      setIsPending(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form.Group>\r\n        <Form.Label>ifre</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"ifre\"\r\n          value={password}\r\n          data-testid=\"password\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n\r\n      <Form.Group>\r\n        <Form.Label>ifre tekrar</Form.Label>\r\n        <Form.Control\r\n          type=\"password\"\r\n          placeholder=\"tekrar ayn ifre\"\r\n          value={passwordConfirm}\r\n          data-testid=\"passwordConfirm\"\r\n          required\r\n          onChange={(e) => setPasswordConfirm(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <p></p>\r\n\r\n      {!isPending && (\r\n        <Button\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          data-testid=\"changePasswordButton\"\r\n        >\r\n          gnder\r\n        </Button>\r\n      )}\r\n      {isPending && <Button variant=\"primary\">ltfen bekleyin...</Button>}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import { useEffect, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport { confirmAccount } from \"../src/redux\";\r\n\r\nconst ConfirmAccount = () => {\r\n  const logged = useSelector((state) => state.auth?.logged);\r\n  const error = useSelector((state) => state.auth?.error);\r\n  const { token } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const loadBookFromServer = useCallback(async () => {\r\n    dispatch(confirmAccount(token));\r\n  }, [token, dispatch]);\r\n\r\n  useEffect(() => {\r\n    loadBookFromServer();\r\n    if (logged) history.push(\"/\");\r\n    if (error) return false;\r\n  }, [loadBookFromServer, error, history, logged]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <>\r\n        <header className=\"jumbotron\">\r\n          <h3>\r\n            <strong>{error}</strong>\r\n          </h3>\r\n        </header>\r\n        <Link to={\"/signup\"}>ltfen kaydolun...</Link>{\" \"}\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmAccount;\r\n","import React, { useEffect /*useContext , useState */ } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { checkAuth, signout, postUser } from \"../src/redux\";\r\nimport Navigation from \"./Navigation\";\r\nimport Home from \"./Home\";\r\nimport Create from \"./Create\";\r\nimport BlogDetails from \"./BlogDetails\";\r\nimport NotFound from \"./NotFound\";\r\nimport Signin from \"./Signin\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport EditBlog from \"./EditBlog\";\r\nimport PublicRoute from \"./PublicRoute\";\r\nimport Signup from \"./Signup\";\r\nimport ForgotPassword from \"./ForgotPassword\";\r\nimport ResetPassword from \"./ResetPassword\";\r\nimport ChangeUsername from \"./ChangeUsername\";\r\nimport ChangePassword from \"./ChangePassword\";\r\nimport ConfirmAccount from \"./ConfirmAccount\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\n\r\nconst App = ({\r\n  nick,\r\n  postUser,\r\n  isloading,\r\n  isAuthenticated,\r\n  checkAuth,\r\n  signout,\r\n}) => {\r\n  useEffect(() => {\r\n    try {\r\n      checkAuth();\r\n    } catch (error) {\r\n      console.log(\"error.message \", error.message);\r\n    }\r\n  }, [checkAuth]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Navigation\r\n        nick={nick}\r\n        signout={signout}\r\n        checkAuth={checkAuth}\r\n        isloading={isloading}\r\n        isAuthenticated={isAuthenticated}\r\n        data-test=\"appComponent\"\r\n      />\r\n      <div className=\"content\">\r\n        <Switch>\r\n          <PublicRoute exact path=\"/\" component={Home} />\r\n          <PublicRoute\r\n            isAuthenticated={isAuthenticated}\r\n            exact\r\n            isloading={isloading}\r\n            postUser={postUser}\r\n            path=\"/signin\"\r\n            component={Signin}\r\n          />\r\n          <PublicRoute\r\n            exact\r\n            path=\"/confirmAccount/:token\"\r\n            component={ConfirmAccount}\r\n          />\r\n          <PublicRoute\r\n            exact\r\n            path=\"/forgotPassword\"\r\n            component={ForgotPassword}\r\n          />\r\n          <PublicRoute\r\n            exact\r\n            path=\"/resetPassword/:token\"\r\n            component={ResetPassword}\r\n          />\r\n          <PublicRoute exact path=\"/signup\" component={Signup} />\r\n          <PrivateRoute\r\n            exact\r\n            nick={nick}\r\n            isloading={isloading}\r\n            isAuthenticated={isAuthenticated}\r\n            path=\"/blogs/:id\"\r\n            component={BlogDetails}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/blogs/:id/edit\"\r\n            component={EditBlog}\r\n            isloading={isloading}\r\n            isAuthenticated={isAuthenticated}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/createBlog\"\r\n            component={Create}\r\n            isloading={isloading}\r\n            isAuthenticated={isAuthenticated}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/changeUsername\"\r\n            component={ChangeUsername}\r\n            isloading={isloading}\r\n            isAuthenticated={isAuthenticated}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/changePassword\"\r\n            component={ChangePassword}\r\n            isloading={isloading}\r\n            isAuthenticated={isAuthenticated}\r\n          />\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth?.logged,\r\n    isloading: state.auth?.loading,\r\n    nick: state.auth?.userName,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    checkAuth: () => dispatch(checkAuth()),\r\n    signout: () => dispatch(signout()),\r\n    postUser: () => dispatch(postUser()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}